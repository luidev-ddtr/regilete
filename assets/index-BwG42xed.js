(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const B=[{problem:"3x + 5 - 2x + 7",answer:"x + 12",steps:["Identificar t√©rminos semejantes: 3x y -2x son t√©rminos con x; 5 y 7 son constantes","Combinar t√©rminos con x: 3x - 2x = x","Combinar constantes: 5 + 7 = 12","Resultado: x + 12"],score:13},{problem:"4a - 2b + 3a + 5b",answer:"7a + 3b",steps:["Identificar t√©rminos semejantes: 4a y 3a son t√©rminos con a; -2b y 5b son t√©rminos con b","Combinar t√©rminos con a: 4a + 3a = 7a","Combinar t√©rminos con b: -2b + 5b = 3b","Resultado: 7a + 3b"],score:11},{problem:"5x - 3 + 2x + 8 - x",answer:"6x + 5",steps:["Identificar t√©rminos semejantes: 5x, 2x y -x son t√©rminos con x; -3 y 8 son constantes","Combinar t√©rminos con x: 5x + 2x - x = 6x","Combinar constantes: -3 + 8 = 5","Resultado: 6x + 5"],score:8},{problem:"2(3x + 4) - 5x",answer:"x + 8",steps:["Aplicar propiedad distributiva: 2 √ó 3x + 2 √ó 4 = 6x + 8","Reescribir la expresi√≥n: 6x + 8 - 5x","Combinar t√©rminos semejantes: 6x - 5x = x","Resultado: x + 8"],score:17},{problem:"3(x - 2) + 4(2x + 1)",answer:"11x - 2",steps:["Aplicar propiedad distributiva: 3 √ó x - 3 √ó 2 = 3x - 6","Aplicar propiedad distributiva: 4 √ó 2x + 4 √ó 1 = 8x + 4","Combinar expresiones: 3x - 6 + 8x + 4","Combinar t√©rminos semejantes: 3x + 8x = 11x; -6 + 4 = -2","Resultado: 11x - 2"],score:19},{problem:"5y - 2(3y - 4) + 7",answer:"-y + 15",steps:["Aplicar propiedad distributiva: -2 √ó 3y + (-2) √ó (-4) = -6y + 8","Reescribir la expresi√≥n: 5y - 6y + 8 + 7","Combinar t√©rminos con y: 5y - 6y = -y","Combinar constantes: 8 + 7 = 15","Resultado: -y + 15"],score:20},{problem:"4(2a - 3b) - 3(a + 2b)",answer:"5a - 18b",steps:["Aplicar primera propiedad distributiva: 4 √ó 2a - 4 √ó 3b = 8a - 12b","Aplicar segunda propiedad distributiva: -3 √ó a - 3 √ó 2b = -3a - 6b","Combinar expresiones: 8a - 12b - 3a - 6b","Combinar t√©rminos con a: 8a - 3a = 5a","Combinar t√©rminos con b: -12b - 6b = -18b","Resultado: 5a - 18b"],score:28},{problem:"2x¬≤ + 3x - 5 + 4x¬≤ - 2x + 7",answer:"6x¬≤ + x + 2",steps:["Identificar t√©rminos semejantes: 2x¬≤ y 4x¬≤ son t√©rminos cuadr√°ticos; 3x y -2x son t√©rminos lineales; -5 y 7 son constantes","Combinar t√©rminos cuadr√°ticos: 2x¬≤ + 4x¬≤ = 6x¬≤","Combinar t√©rminos lineales: 3x - 2x = x","Combinar constantes: -5 + 7 = 2","Resultado: 6x¬≤ + x + 2"],score:12},{problem:"3(m - 2n) + 2(3m + n) - 4(m - n)",answer:"5m - 4n",steps:["Aplicar primera propiedad distributiva: 3 √ó m - 3 √ó 2n = 3m - 6n","Aplicar segunda propiedad distributiva: 2 √ó 3m + 2 √ó n = 6m + 2n","Aplicar tercera propiedad distributiva: -4 √ó m - 4 √ó (-n) = -4m + 4n","Combinar todas las expresiones: 3m - 6n + 6m + 2n - 4m + 4n","Combinar t√©rminos con m: 3m + 6m - 4m = 5m","Combinar t√©rminos con n: -6n + 2n + 4n = -4n","Resultado: 5m - 4n"],score:13},{problem:"2(3x - 4y) - 3(2x + y) + 5(x - 2y)",answer:"5x - 21y",steps:["Aplicar primera propiedad distributiva: 2 √ó 3x - 2 √ó 4y = 6x - 8y","Aplicar segunda propiedad distributiva: -3 √ó 2x - 3 √ó y = -6x - 3y","Aplicar tercera propiedad distributiva: 5 √ó x - 5 √ó 2y = 5x - 10y","Combinar todas las expresiones: 6x - 8y - 6x - 3y + 5x - 10y","Combinar t√©rminos con x: 6x - 6x + 5x = 5x","Combinar t√©rminos con y: -8y - 3y - 10y = -21y","Resultado: 5x - 21y"],score:12}],L=[{problem:"(3x¬≤ + 2x - 5) + (2x¬≤ - 4x + 3)",answer:"5x¬≤ - 2x - 2",steps:["Eliminar par√©ntesis: 3x¬≤ + 2x - 5 + 2x¬≤ - 4x + 3","Agrupar t√©rminos semejantes: (3x¬≤ + 2x¬≤) + (2x - 4x) + (-5 + 3)","Sumar coeficientes: 5x¬≤ - 2x - 2","Resultado: 5x¬≤ - 2x - 2"],score:11},{problem:"(4x¬≤ - 3x + 2) - (2x¬≤ + x - 5)",answer:"2x¬≤ - 4x + 7",steps:["Distribuir el signo negativo: 4x¬≤ - 3x + 2 - 2x¬≤ - x + 5","Agrupar t√©rminos semejantes: (4x¬≤ - 2x¬≤) + (-3x - x) + (2 + 5)","Sumar/Restar coeficientes: 2x¬≤ - 4x + 7","Resultado: 2x¬≤ - 4x + 7"],score:8},{problem:"2x(3x - 4)",answer:"6x¬≤ - 8x",steps:["Aplicar propiedad distributiva: 2x * 3x + 2x * (-4)","Multiplicar t√©rminos: 6x¬≤ - 8x","Resultado: 6x¬≤ - 8x"],score:13},{problem:"(2x + 3)(x - 4)",answer:"2x¬≤ - 5x - 12",steps:["Aplicar propiedad distributiva (FOIL): (2x)(x) + (2x)(-4) + (3)(x) + (3)(-4)","Multiplicar t√©rminos: 2x¬≤ - 8x + 3x - 12","Combinar t√©rminos semejantes: 2x¬≤ - 5x - 12","Resultado: 2x¬≤ - 5x - 12"],score:14},{problem:"(3x - 2)(2x¬≤ + x - 5)",answer:"6x¬≥ - x¬≤ - 17x + 10",steps:["Aplicar propiedad distributiva: 3x(2x¬≤ + x - 5) - 2(2x¬≤ + x - 5)","Primera distribuci√≥n: 6x¬≥ + 3x¬≤ - 15x","Segunda distribuci√≥n: -4x¬≤ - 2x + 10","Combinar t√©rminos: 6x¬≥ + (3x¬≤ - 4x¬≤) + (-15x - 2x) + 10","Resultado: 6x¬≥ - x¬≤ - 17x + 10"],score:22},{problem:"(x + 2)¬≥",answer:"x¬≥ + 6x¬≤ + 12x + 8",steps:["Expresar como (x + 2)(x + 2)(x + 2)","Multiplicar primeros dos: (x + 2)(x + 2) = x¬≤ + 4x + 4","Multiplicar resultado por (x + 2): (x¬≤ + 4x + 4)(x + 2)","Aplicar propiedad distributiva: x¬≥ + 2x¬≤ + 4x¬≤ + 8x + 4x + 8","Combinar t√©rminos semejantes: x¬≥ + 6x¬≤ + 12x + 8","Resultado: x¬≥ + 6x¬≤ + 12x + 8"],score:22},{problem:"(2x¬≤ - 3x + 1)(x¬≤ + 2x - 3)",answer:"2x‚Å¥ + x¬≥ - 11x¬≤ + 11x - 3",steps:["Aplicar propiedad distributiva: 2x¬≤(x¬≤ + 2x - 3) - 3x(x¬≤ + 2x - 3) + 1(x¬≤ + 2x - 3)","Primera distribuci√≥n: 2x‚Å¥ + 4x¬≥ - 6x¬≤","Segunda distribuci√≥n: -3x¬≥ - 6x¬≤ + 9x","Tercera distribuci√≥n: x¬≤ + 2x - 3","Combinar t√©rminos semejantes: 2x‚Å¥ + (4x¬≥ - 3x¬≥) + (-6x¬≤ - 6x¬≤ + x¬≤) + (9x + 2x) - 3","Resultado: 2x‚Å¥ + x¬≥ - 11x¬≤ + 11x - 3"],score:30},{problem:"(x¬≤ - 4x + 4) √∑ (x - 2)",answer:"x - 2",steps:["Reconocer trinomio cuadrado perfecto: x¬≤ - 4x + 4 = (x - 2)¬≤","Dividir: (x - 2)¬≤ √∑ (x - 2)","Simplificar: x - 2","Resultado: x - 2"],score:18},{problem:"(3x¬≥ - 5x¬≤ + 2x - 8) √∑ (x - 2)",answer:"3x¬≤ + x + 4",steps:["Aplicar divisi√≥n sint√©tica o polin√≥mica","Dividir 3x¬≥ √∑ x = 3x¬≤","Multiplicar: 3x¬≤(x - 2) = 3x¬≥ - 6x¬≤","Restar: (3x¬≥ - 5x¬≤) - (3x¬≥ - 6x¬≤) = x¬≤","Bajar siguiente t√©rmino: x¬≤ + 2x","Dividir: x¬≤ √∑ x = x","Continuar proceso hasta obtener cociente","Resultado: 3x¬≤ + x + 4"],score:22}],R=[{problem:"3x + 7 = 22",answer:"x = 5",steps:["Restar 7 de ambos lados: 3x + 7 - 7 = 22 - 7","Simplificar: 3x = 15","Dividir ambos lados entre 3: 3x/3 = 15/3","Simplificar: x = 5"],score:11},{problem:"2(x - 3) = 10",answer:"x = 8",steps:["Distribuir: 2x - 6 = 10","Sumar 6 a ambos lados: 2x - 6 + 6 = 10 + 6","Simplificar: 2x = 16","Dividir ambos lados entre 2: 2x/2 = 16/2","Simplificar: x = 8"],score:8},{problem:"5x - 3 = 2x + 9",answer:"x = 4",steps:["Restar 2x de ambos lados: 5x - 2x - 3 = 2x - 2x + 9","Simplificar: 3x - 3 = 9","Sumar 3 a ambos lados: 3x - 3 + 3 = 9 + 3","Simplificar: 3x = 12","Dividir ambos lados entre 3: 3x/3 = 12/3","Simplificar: x = 4"],score:18},{problem:"4(x + 2) - 3 = 2x + 13",answer:"x = 4",steps:["Distribuir: 4x + 8 - 3 = 2x + 13","Simplificar izquierda: 4x + 5 = 2x + 13","Restar 2x de ambos lados: 4x - 2x + 5 = 13","Simplificar: 2x + 5 = 13","Restar 5 de ambos lados: 2x = 8","Dividir entre 2: x = 4"],score:14},{problem:"7 - 2x = 3x + 22",answer:"x = -3",steps:["Sumar 2x a ambos lados: 7 = 5x + 22","Restar 22 de ambos lados: 7 - 22 = 5x","Simplificar: -15 = 5x","Dividir entre 5: -3 = x","Reordenar: x = -3"],score:17},{problem:"2(3x - 1) = 4(x + 3) - 2",answer:"x = 6",steps:["Distribuir ambos lados: 6x - 2 = 4x + 12 - 2","Simplificar derecha: 6x - 2 = 4x + 10","Restar 4x de ambos lados: 2x - 2 = 10","Sumar 2 a ambos lados: 2x = 12","Dividir entre 2: x = 6"],score:20},{problem:"5 - 3(x + 2) = 2x - 7",answer:"x = 1.2",steps:["Distribuir: 5 - 3x - 6 = 2x - 7","Simplificar izquierda: -3x - 1 = 2x - 7","Sumar 3x a ambos lados: -1 = 5x - 7","Sumar 7 a ambos lados: 6 = 5x","Dividir entre 5: x = 6/5 = 1.2"],score:23},{problem:"x/2 + 3 = 2x - 5",answer:"x = 5.33",steps:["Multiplicar toda la ecuaci√≥n por 2: x + 6 = 4x - 10","Restar x de ambos lados: 6 = 3x - 10","Sumar 10 a ambos lados: 16 = 3x","Dividir entre 3: x = 16/3 ‚âà 5.33"],score:17},{problem:"3(x - 4) + 2 = 5(2x + 1) - 7",answer:"x = -1.14",steps:["Distribuir ambos lados: 3x - 12 + 2 = 10x + 5 - 7","Simplificar: 3x - 10 = 10x - 2","Restar 3x de ambos lados: -10 = 7x - 2","Sumar 2 a ambos lados: -8 = 7x","Dividir entre 7: x = -8/7 ‚âà -1.14"],score:24},{problem:"(2x + 1)/3 = (x - 4)/2",answer:"x = -14",steps:["Multiplicar cruzado: 2(2x + 1) = 3(x - 4)","Distribuir: 4x + 2 = 3x - 12","Restar 3x de ambos lados: x + 2 = -12","Restar 2 de ambos lados: x = -14"],score:23}],M=[{problem:"3x + 12",answer:"3(x + 4)",steps:["Identificar el m√°ximo com√∫n divisor (MCD) de los coeficientes 3 y 12, que es 3.","El factor com√∫n es 3.","Dividir cada t√©rmino por el factor com√∫n: 3x/3 = x; 12/3 = 4.","Escribir el factor com√∫n fuera de un par√©ntesis: 3(x + 4)."],score:11},{problem:"8a¬≤ - 16a",answer:"8a(a - 2)",steps:["Identificar el MCD de 8 y 16, que es 8.","Identificar la variable com√∫n con el menor exponente: 'a'.","El factor com√∫n completo es 8a.","Dividir cada t√©rmino por 8a: 8a¬≤ / (8a) = a; -16a / (8a) = -2.","Escribir el resultado: 8a(a - 2)."],score:7},{problem:"x¬≤ - 81",answer:"(x + 9)(x - 9)",steps:["Reconocer que es una resta (diferencia) de dos t√©rminos con ra√≠z cuadrada exacta.","Calcular la ra√≠z cuadrada del primer t√©rmino: ‚àöx¬≤ = x.","Calcular la ra√≠z cuadrada del segundo t√©rmino: ‚àö81 = 9.","Aplicar la f√≥rmula de diferencia de cuadrados (a+b)(a-b).","Sustituir: (x + 9)(x - 9)."],score:17},{problem:"x¬≤ + 7x + 12",answer:"(x + 3)(x + 4)",steps:["Identificar que es un trinomio de la forma x¬≤ + bx + c.","Buscar dos n√∫meros que multipliquen a 12 y sumen a 7.","Los n√∫meros son 3 y 4: 3 √ó 4 = 12; 3 + 4 = 7.","Escribir los factores: (x + 3)(x + 4)."],score:14},{problem:"2x¬≤ + 11x + 12",answer:"(2x + 3)(x + 4)",steps:["Identificar trinomio de la forma ax¬≤ + bx + c.","Multiplicar a √ó c: 2 √ó 12 = 24.","Buscar dos n√∫meros que multipliquen a 24 y sumen a 11: 3 y 8.","Reescribir el t√©rmino medio: 2x¬≤ + 3x + 8x + 12.","Factorizar por agrupaci√≥n: x(2x + 3) + 4(2x + 3).","Factor com√∫n: (2x + 3)(x + 4)."],score:18},{problem:"4x¬≤ - 12x + 9",answer:"(2x - 3)¬≤",steps:["Reconocer trinomio cuadrado perfecto.","Verificar: ‚àö4x¬≤ = 2x; ‚àö9 = 3; 2(2x)(3) = 12x.","Aplicar f√≥rmula: a¬≤ - 2ab + b¬≤ = (a - b)¬≤.","Sustituir: (2x - 3)¬≤."],score:18},{problem:"6x¬≤ - 13x - 5",answer:"(2x - 5)(3x + 1)",steps:["Multiplicar a √ó c: 6 √ó (-5) = -30.","Buscar dos n√∫meros que multipliquen a -30 y sumen a -13: -15 y 2.","Reescribir: 6x¬≤ - 15x + 2x - 5.","Factorizar por agrupaci√≥n: 3x(2x - 5) + 1(2x - 5).","Factor com√∫n: (2x - 5)(3x + 1)."],score:20},{problem:"x¬≥ - 27",answer:"(x - 3)(x¬≤ + 3x + 9)",steps:["Reconocer diferencia de cubos: a¬≥ - b¬≥.","Identificar: a = x, b = 3 (porque 3¬≥ = 27).","Aplicar f√≥rmula: a¬≥ - b¬≥ = (a - b)(a¬≤ + ab + b¬≤).","Sustituir: (x - 3)(x¬≤ + 3x + 9)."],score:28},{problem:"3x¬≥ - 12x",answer:"3x(x + 2)(x - 2)",steps:["Identificar factor com√∫n: MCD de 3 y 12 es 3, variable com√∫n es x.","Factor com√∫n: 3x.","Dividir: 3x¬≥/(3x) = x¬≤; -12x/(3x) = -4.","Resultado parcial: 3x(x¬≤ - 4).","Factorizar diferencia de cuadrados: x¬≤ - 4 = (x + 2)(x - 2).","Resultado final: 3x(x + 2)(x - 2)."],score:18},{problem:"2x¬≥ + 16",answer:"2(x + 2)(x¬≤ - 2x + 4)",steps:["Identificar factor com√∫n: MCD de 2 y 16 es 2.","Factor com√∫n: 2.","Dividir: 2x¬≥/2 = x¬≥; 16/2 = 8.","Resultado parcial: 2(x¬≥ + 8).","Reconocer suma de cubos: x¬≥ + 2¬≥.","Aplicar f√≥rmula: a¬≥ + b¬≥ = (a + b)(a¬≤ - ab + b¬≤).","Sustituir: 2(x + 2)(x¬≤ - 2x + 4)."],score:24}],g={operations:B,polynomials:L,equations:R,factoring:M};function k(e,o){const t=localStorage.getItem("algebraProgress");if(t){const r=JSON.parse(t);for(const s in e.progress)r[s]&&(e.progress[s]={...e.progress[s],...r[s]});o()}}function $(e){localStorage.setItem("algebraProgress",JSON.stringify(e.progress))}function D(e){document.querySelectorAll(".topic-item").forEach(o=>{o.classList.remove("active")}),document.querySelector(`.topic-item[data-topic="${e}"]`).classList.add("active")}function T(e){document.querySelectorAll(".topic-content").forEach(o=>{o.classList.remove("active")}),document.getElementById(`${e}-content`).classList.add("active")}function q(e){const o=document.getElementById(`${e}-feedback`);o.innerHTML=`
        <div class="feedback-title">
            <i class="fas fa-check-circle"></i> ¬°Correcto!
        </div>
        <p>Has resuelto el problema correctamente. ¬°Buen trabajo!</p>
    `,o.className="feedback-container feedback-correct",o.style.display="block"}function z(e,o,t,r){const s=document.getElementById(`${e}-feedback`),a=document.getElementById(`${e}-steps`);s.innerHTML=`
        <div class="feedback-title">
            <i class="fas fa-times-circle"></i> Respuesta incorrecta
        </div>
        <p>Tu respuesta: <strong>${o||"(vac√≠o)"}</strong></p>
        <p>Respuesta correcta: <strong>${t}</strong></p>
        <p>Revisa los pasos de soluci√≥n a continuaci√≥n:</p>
    `,s.className="feedback-container feedback-incorrect",s.style.display="block",a.innerHTML="<h3>Pasos para resolver:</h3>",r.forEach((i,c)=>{const d=document.createElement("div");d.className="step",d.innerHTML=`<span class="step-number">Paso ${c+1}:</span> ${i}`,a.appendChild(d)}),a.style.display="block"}function b(e){e.classList.remove("updated"),e.offsetWidth,e.classList.add("updated"),setTimeout(()=>{e.classList.remove("updated")},500)}function w(e,o){for(const t in e.progress){if(!o[t])continue;const r=e.progress[t],s=o[t].reduce((S,P)=>S+P.score,0),a=s>0?Math.min(100,Math.round(r.score/s*100)):0,i=document.getElementById(`${t}-progress`);i.textContent=`${a}%`,b(i);const c=document.getElementById(`${t}-progress-bar`);c.style.width=`${a}%`;const d=document.getElementById(`${t}-correct`);d.textContent=r.score,b(d);const y=document.getElementById(`${t}-total`);y.textContent=r.total,b(y);const h=i.closest(".progress-container");a>=80?h.setAttribute("data-score-high","true"):h.removeAttribute("data-score-high")}}function N(e,o){document.getElementById(`${e}-problem`).textContent=`\\( ${o} \\)`,document.getElementById(`${e}-answer`).value="",window.MathJax&&MathJax.typeset([`#${e}-problem`])}function F(e){document.getElementById(`${e}-problem`).textContent="¬°Has resuelto todos los problemas de este tema!",document.getElementById(`new-${e}`).disabled=!0}function I(e){document.getElementById(`${e}-feedback`).style.display="none",document.getElementById(`${e}-steps`).style.display="none",document.getElementById(`${e}-hint`).style.display="none"}function H(e,o){const t=document.getElementById(`${e}-hint`),r=document.getElementById(`${e}-hint-text`);o&&r&&(r.textContent=o),t.style.display="block"}function v(e,o,t,r){const s=document.getElementById("victory-modal"),a=document.getElementById("victory-header"),i=document.getElementById("victory-message"),d={operations:"Operaciones B√°sicas",polynomials:"Polinomios",equations:"Ecuaciones",factoring:"Factorizaci√≥n"}[e]||"este tema";o==="legendary"?(a.innerHTML=`
            <i class="fas fa-crown" style="color: #ffc107;"></i>
            <h2>¬°Victoria Legendaria!</h2>
        `,i.textContent=`¬°Felicidades! Has resuelto todos los problemas de ${d}. ¬°Eres un verdadero maestro del √°lgebra!`):(a.innerHTML=`
            <i class="fas fa-trophy" style="color: #28a745;"></i>
            <h2>¬°Has completado el tema!</h2>
        `,i.textContent=`¬°Excelente trabajo! Has alcanzado la puntuaci√≥n objetivo para el tema de ${d}.`),document.getElementById("victory-score").textContent=t,document.getElementById("victory-attempts").textContent=r,s.style.display="flex"}function O(){document.getElementById("victory-modal").style.display="none"}function j(e){return document.getElementById(`${e}-answer`).value.trim()}function J(){window.MathJax&&MathJax.typeset()}function m(e,o,t){const r=o[e].length,s=t.progress[e].solvedProblems,a=[];for(let i=0;i<r;i++)s.includes(i)||a.push(i);if(a.length>0){const i=Math.floor(Math.random()*a.length),c=a[i];t.currentProblem=c,C(e,c,o)}else F(e)}function C(e,o,t,r){const s=t[e][o];N(e,s.problem),document.getElementById(`check-${e}`).disabled=!1,document.getElementById(`new-${e}`).disabled=!1,document.getElementById(`hint-${e}`).disabled=!1,I(e)}function u(e,o,t){const r=o[e][t.currentProblem];r.hint&&H(e,r.hint)}const V={operations:[{threshold:25,title:"¬°Primeros Pasos!",icon:"üéØ",message:"¬°Has alcanzado el 25%! Sigues avanzando muy bien."},{threshold:50,title:"¬°A Medio Camino!",icon:"üöÄ",message:"¬°50% completado! Est√°s en el camino correcto."},{threshold:75,title:"¬°Casi lo Logras!",icon:"üî•",message:"¬°75% alcanzado! ¬°La victoria est√° cerca!"},{threshold:100,title:"¬°Maestro de Operaciones!",icon:"üëë",message:"¬°100% completado! ¬°Eres un campe√≥n!"}],polynomials:[{threshold:25,title:"¬°Aprendiz de Polinomios!",icon:"üìê",message:"¬°25% completado! Los polinomios ya no son un misterio."},{threshold:50,title:"¬°Explorador Algebraico!",icon:"üß≠",message:"¬°50% alcanzado! Dominas los polinomios."},{threshold:75,title:"¬°Experto en Polinomios!",icon:"‚ö°",message:"¬°75% completado! ¬°Impresionante progreso!"},{threshold:100,title:"¬°Rey de los Polinomios!",icon:"üëë",message:"¬°Perfecto! Has dominado los polinomios completamente."}],equations:[{threshold:25,title:"¬°Resolviendo Ecuaciones!",icon:"üé≤",message:"¬°25% completado! Las ecuaciones empiezan a ser f√°ciles."},{threshold:50,title:"¬°Detective Algebraico!",icon:"üîç",message:"¬°50% alcanzado! Encuentras soluciones con facilidad."},{threshold:75,title:"¬°Solucionador Experto!",icon:"üíé",message:"¬°75% logrado! ¬°Eres imparable!"},{threshold:100,title:"¬°Maestro de Ecuaciones!",icon:"üèÜ",message:"¬°Perfecci√≥n total! Has resuelto todas las ecuaciones."}],factoring:[{threshold:25,title:"¬°Factorizando con √âxito!",icon:"üß©",message:"¬°25% completado! La factorizaci√≥n ya no te asusta."},{threshold:50,title:"¬°Desglosador Algebraico!",icon:"üé™",message:"¬°50% alcanzado! Factorizas como un profesional."},{threshold:75,title:"¬°Experto en Factorizaci√≥n!",icon:"‚ú®",message:"¬°75% logrado! ¬°Tu habilidad es sobresaliente!"},{threshold:100,title:"¬°Leyenda de la Factorizaci√≥n!",icon:"üåü",message:"¬°100% perfecto! Eres una leyenda del √°lgebra."}]},f={operations:new Set,polynomials:new Set,equations:new Set,factoring:new Set};function U(e,o,t){const r=V[e];if(r)for(const s of r)o>=s.threshold&&!f[e].has(s.threshold)&&(f[e].add(s.threshold),G(s),W(e,s.threshold))}function G(e,o){const t=document.createElement("div");t.className="achievement-notification",t.innerHTML=`
        <div class="achievement-icon">${e.icon}</div>
        <div class="achievement-content">
            <div class="achievement-title">${e.title}</div>
            <div class="achievement-message">${e.message}</div>
        </div>
    `,document.body.appendChild(t),K(e.threshold),setTimeout(()=>{t.classList.add("show")},100),setTimeout(()=>{t.classList.remove("show"),setTimeout(()=>{t.remove()},500)},4e3)}function K(e){try{const o=new(window.AudioContext||window.webkitAudioContext),t=o.createOscillator(),r=o.createGain();t.connect(r),r.connect(o.destination);const s={25:523.25,50:659.25,75:783.99,100:1046.5};t.frequency.value=s[e]||523.25,t.type="sine",r.gain.setValueAtTime(.3,o.currentTime),r.gain.exponentialRampToValueAtTime(.01,o.currentTime+.5),t.start(o.currentTime),t.stop(o.currentTime+.5)}catch{console.log("Audio not available")}}function W(e,o){const t="algebraAchievements";let r=JSON.parse(localStorage.getItem(t)||"{}");r[e]||(r[e]=[]),r[e].includes(o)||r[e].push(o),localStorage.setItem(t,JSON.stringify(r))}function Q(){const o=JSON.parse(localStorage.getItem("algebraAchievements")||"{}");for(const t in o)o[t]&&Array.isArray(o[t])&&o[t].forEach(r=>{f[t].add(r)})}function x(e=3e3,o=50){const t=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffa500","#ff69b4"],r=["‚óè","‚ñ†","‚ñ≤","‚òÖ","‚ô¶"];for(let s=0;s<o;s++)setTimeout(()=>{const a=document.createElement("div");a.className="confetti",a.textContent=r[Math.floor(Math.random()*r.length)],a.style.left=Math.random()*100+"%",a.style.color=t[Math.floor(Math.random()*t.length)],a.style.fontSize=Math.random()*20+10+"px",a.style.animationDuration=Math.random()*2+2+"s",a.style.animationDelay=Math.random()*.5+"s",document.body.appendChild(a),setTimeout(()=>{a.remove()},e)},Math.random()*500)}function A(){x(5e3,100),setTimeout(()=>{x(4e3,80)},1e3),setTimeout(()=>{x(3e3,60)},2e3)}function X(){x(3e3,50),setTimeout(()=>{x(2e3,30)},800)}const l=g,n={currentTopic:"operations",currentProblem:0,progress:{operations:{score:0,total:0,solvedProblems:[]},polynomials:{score:0,total:0,solvedProblems:[]},equations:{score:0,total:0,solvedProblems:[]},factoring:{score:0,total:0,solvedProblems:[]}}};function Y(){Q(),k(n,()=>w(n,g)),document.querySelectorAll(".topic-item").forEach(e=>{e.addEventListener("click",function(){const o=this.getAttribute("data-topic");E(o)})}),Z(),document.getElementById("modal-close-button").addEventListener("click",O),document.getElementById("modal-next-topic-button").addEventListener("click",()=>E("polynomials")),C("operations",0,l),J()}function E(e){l[e]&&(D(e),T(e),n.currentTopic=e,m(e,l,n),I(e))}function Z(){document.getElementById("check-operations").addEventListener("click",()=>p("operations")),document.getElementById("hint-operations").addEventListener("click",()=>u("operations",l,n)),document.getElementById("new-operations").addEventListener("click",()=>m("operations",l,n)),document.getElementById("check-polynomials").addEventListener("click",()=>p("polynomials")),document.getElementById("hint-polynomials").addEventListener("click",()=>u("polynomials",l,n)),document.getElementById("new-polynomials").addEventListener("click",()=>m("polynomials",l,n)),document.getElementById("check-equations").addEventListener("click",()=>p("equations")),document.getElementById("hint-equations").addEventListener("click",()=>u("equations",l,n)),document.getElementById("new-equations").addEventListener("click",()=>m("equations",l,n)),document.getElementById("check-factoring").addEventListener("click",()=>p("factoring")),document.getElementById("hint-factoring").addEventListener("click",()=>u("factoring",l,n)),document.getElementById("new-factoring").addEventListener("click",()=>m("factoring",l,n))}function p(e){console.log(`Verificando respuesta para: ${e}`),console.log("Progreso antes:",n.progress[e]);const o=j(e),t=l[e][n.currentProblem];n.progress[e].total++;const r=o.toLowerCase().replace(/\s+/g,""),s=t.answer.toLowerCase().replace(/\s+/g,"");if(r===s)n.progress[e].solvedProblems.includes(n.currentProblem)||(n.progress[e].score+=t.score,n.progress[e].solvedProblems.push(n.currentProblem)),q(e),document.getElementById(`check-${e}`).disabled=!0,document.getElementById(`new-${e}`).disabled=!0,setTimeout(()=>{const c=document.getElementById(`${e}-content`).querySelector(".exercise-container");c.classList.add("fade-out"),setTimeout(()=>{m(e,l,n),c.classList.remove("fade-out")},300)},2e3);else{z(e,o,t.answer,t.steps);const c=Math.round(t.score*.25);n.progress[e].score=Math.max(0,n.progress[e].score-c)}console.log("Progreso despu√©s:",n.progress[e]),w(n,g);const a=l[e].reduce((c,d)=>c+d.score,0),i=a>0?Math.round(n.progress[e].score/a*100):0;U(e,i),i===75?X():i===100&&A(),_(e),$(n)}function _(e){const o=n.progress[e],t=l[e].length,r=l[e].reduce((i,c)=>i+c.score,0),s=o.solvedProblems.length===t,a=o.score>=r;s?(v(e,"legendary",o.score,o.total),A()):a&&(v(e,"normal",o.score,o.total),x())}document.addEventListener("DOMContentLoaded",Y);
