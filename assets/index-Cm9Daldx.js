(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const y=[{problem:"3x + 5 - 2x + 7",answer:"x + 12",steps:["Identificar términos semejantes: 3x y -2x son términos con x; 5 y 7 son constantes","Combinar términos con x: 3x - 2x = x","Combinar constantes: 5 + 7 = 12","Resultado: x + 12"]},{problem:"4a - 2b + 3a + 5b",answer:"7a + 3b",steps:["Identificar términos semejantes: 4a y 3a son términos con a; -2b y 5b son términos con b","Combinar términos con a: 4a + 3a = 7a","Combinar términos con b: -2b + 5b = 3b","Resultado: 7a + 3b"]},{problem:"5x - 3 + 2x + 8 - x",answer:"6x + 5",steps:["Identificar términos semejantes: 5x, 2x y -x son términos con x; -3 y 8 son constantes","Combinar términos con x: 5x + 2x - x = 6x","Combinar constantes: -3 + 8 = 5","Resultado: 6x + 5"]}],E=[{problem:"(3x² + 2x - 5) + (2x² - 4x + 3)",answer:"5x² - 2x - 2",steps:["Eliminar paréntesis: 3x² + 2x - 5 + 2x² - 4x + 3","Agrupar términos semejantes: (3x² + 2x²) + (2x - 4x) + (-5 + 3)","Sumar coeficientes: 5x² - 2x - 2","Resultado: 5x² - 2x - 2"]},{problem:"(4x² - 3x + 2) - (2x² + x - 5)",answer:"2x² - 4x + 7",steps:["Distribuir el signo negativo: 4x² - 3x + 2 - 2x² - x + 5","Agrupar términos semejantes: (4x² - 2x²) + (-3x - x) + (2 + 5)","Sumar/Restar coeficientes: 2x² - 4x + 7","Resultado: 2x² - 4x + 7"]},{problem:"2x(3x - 4)",answer:"6x² - 8x",steps:["Aplicar propiedad distributiva: 2x * 3x + 2x * (-4)","Multiplicar términos: 6x² - 8x","Resultado: 6x² - 8x"]}],h=[{problem:"3x + 7 = 22",answer:"x = 5",steps:["Restar 7 de ambos lados: 3x + 7 - 7 = 22 - 7","Simplificar: 3x = 15","Dividir ambos lados entre 3: 3x/3 = 15/3","Simplificar: x = 5"]},{problem:"2(x - 3) = 10",answer:"x = 8",steps:["Distribuir: 2x - 6 = 10","Sumar 6 a ambos lados: 2x - 6 + 6 = 10 + 6","Simplificar: 2x = 16","Dividir ambos lados entre 2: 2x/2 = 16/2","Simplificar: x = 8"]},{problem:"5x - 3 = 2x + 9",answer:"x = 4",steps:["Restar 2x de ambos lados: 5x - 2x - 3 = 2x - 2x + 9","Simplificar: 3x - 3 = 9","Sumar 3 a ambos lados: 3x - 3 + 3 = 9 + 3","Simplificar: 3x = 12","Dividir ambos lados entre 3: 3x/3 = 12/3","Simplificar: x = 4"]}],v=[{problem:"3x + 12",answer:"3(x + 4)",steps:["Identificar el máximo común divisor (MCD) de los coeficientes 3 y 12, que es 3.","El factor común es 3.","Dividir cada término por el factor común: 3x/3 = x; 12/3 = 4.","Escribir el factor común fuera de un paréntesis: 3(x + 4)."]},{problem:"8a² - 16a",answer:"8a(a - 2)",steps:["Identificar el MCD de 8 y 16, que es 8.","Identificar la variable común con el menor exponente: 'a'.","El factor común completo es 8a.","Dividir cada término por 8a: 8a² / (8a) = a; -16a / (8a) = -2.","Escribir el resultado: 8a(a - 2)."]},{problem:"x² - 81",answer:"(x + 9)(x - 9)",steps:["Reconocer que es una resta (diferencia) de dos términos con raíz cuadrada exacta.","Calcular la raíz cuadrada del primer término: √x² = x.","Calcular la raíz cuadrada del segundo término: √81 = 9.","Aplicar la fórmula de diferencia de cuadrados (a+b)(a-b).","Sustituir: (x + 9)(x - 9)."]}],w={operations:y,polynomials:E,equations:h,factoring:v};function I(e,n){const o=localStorage.getItem("algebraProgress");o&&(Object.assign(e.progress,JSON.parse(o)),n(e))}function L(e){localStorage.setItem("algebraProgress",JSON.stringify(e.progress))}function f(e){for(const n in e.progress){const o=e.progress[n],r=o.total>0?Math.round(o.correct/o.total*100):0;document.getElementById(`${n}-progress`).textContent=`${r}%`,document.getElementById(`${n}-progress-bar`).style.width=`${r}%`,document.getElementById(`${n}-correct`).textContent=o.correct,document.getElementById(`${n}-total`).textContent=o.total}}function p(e){document.getElementById(`${e}-feedback`).style.display="none",document.getElementById(`${e}-steps`).style.display="none",document.getElementById(`${e}-hint`).style.display="none"}function l(e,n,o){const r=document.getElementById(`${e}-hint`),t=document.getElementById(`${e}-hint-text`),s=n[e][o.currentProblem];s.hint&&t&&(t.textContent=s.hint),r.style.display="block"}function d(e,n,o){const r=n[e].length;let t;do t=Math.floor(Math.random()*r);while(t===o.currentProblem&&r>1);o.currentProblem=t,x(e,t,n),p(e)}function x(e,n,o,r){const t=o[e][n];document.getElementById(`${e}-problem`).textContent=`\\( ${t.problem} \\)`,document.getElementById(`${e}-answer`).value="",window.MathJax&&MathJax.typeset([`#${e}-problem`]),p(e)}const i=w,a={currentTopic:"operations",currentProblem:0,progress:{operations:{correct:0,total:0},polynomials:{correct:0,total:0},equations:{correct:0,total:0},factoring:{correct:0,total:0}}};function B(){I(a,f),document.querySelectorAll(".topic-item").forEach(e=>{e.addEventListener("click",function(){const n=this.getAttribute("data-topic");k(n)})}),$(),x("operations",0,i),window.MathJax&&MathJax.typeset()}function k(e){document.querySelectorAll(".topic-item").forEach(n=>{n.classList.remove("active")}),document.querySelector(`.topic-item[data-topic="${e}"]`).classList.add("active"),document.querySelectorAll(".topic-content").forEach(n=>{n.classList.remove("active")}),document.getElementById(`${e}-content`).classList.add("active"),a.currentTopic=e,a.currentProblem=0,x(e,0,i),p(e)}function $(){document.getElementById("check-operations").addEventListener("click",()=>m("operations")),document.getElementById("hint-operations").addEventListener("click",()=>l("operations",i,a)),document.getElementById("new-operations").addEventListener("click",()=>d("operations",i,a)),document.getElementById("check-polynomials").addEventListener("click",()=>m("polynomials")),document.getElementById("hint-polynomials").addEventListener("click",()=>l("polynomials",i,a)),document.getElementById("new-polynomials").addEventListener("click",()=>d("polynomials",i,a)),document.getElementById("check-equations").addEventListener("click",()=>m("equations")),document.getElementById("hint-equations").addEventListener("click",()=>l("equations",i,a)),document.getElementById("new-equations").addEventListener("click",()=>d("equations",i,a)),document.getElementById("check-factoring").addEventListener("click",()=>m("factoring")),document.getElementById("hint-factoring").addEventListener("click",()=>l("factoring",i,a)),document.getElementById("new-factoring").addEventListener("click",()=>d("factoring",i,a))}function m(e){const n=document.getElementById(`${e}-answer`).value.trim(),o=i[e][a.currentProblem],r=document.getElementById(`${e}-feedback`),t=document.getElementById(`${e}-steps`);a.progress[e].total++;const s=n.toLowerCase().replace(/\s+/g,""),c=o.answer.toLowerCase().replace(/\s+/g,"");s===c?(r.innerHTML=`
            <div class="feedback-title">
                <i class="fas fa-check-circle"></i> ¡Correcto!
            </div>
            <p>Has resuelto el problema correctamente. ¡Buen trabajo!</p>
        `,r.className="feedback-container feedback-correct",r.style.display="block",a.progress[e].correct++):(r.innerHTML=`
            <div class="feedback-title">
                <i class="fas fa-times-circle"></i> Respuesta incorrecta
            </div>
            <p>Tu respuesta: <strong>${n||"(vacío)"}</strong></p>
            <p>Respuesta correcta: <strong>${o.answer}</strong></p>
            <p>Revisa los pasos de solución a continuación:</p>
        `,r.className="feedback-container feedback-incorrect",r.style.display="block",t.innerHTML="<h3>Pasos para resolver:</h3>",o.steps.forEach((b,g)=>{const u=document.createElement("div");u.className="step",u.innerHTML=`<span class="step-number">Paso ${g+1}:</span> ${b}`,t.appendChild(u)}),t.style.display="block"),f(a),L(a)}document.addEventListener("DOMContentLoaded",B);
